{"ast":null,"code":"var _jsxFileName = \"G:\\\\reactJsLigin\\\\my-app\\\\src\\\\components\\\\loginform.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./loginform.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginForm() {\n  _s();\n\n  // const [email, setEmail] = useState(\"\");\n  // const [password, setPassword] = useState(\"\");\n  // async function loginData(){\n  //     let item = {email, password};\n  //     console.log(item);\n  //     let result = await fetch(\"https://staging.hospyta.com/auth/login\", {\n  //         method: \"POST\",\n  //         headers:{\"Accept\": \"application/json\"},\n  //         body: JSON.stringify(item)\n  //     });\n  //     result = await result.json();\n  //     console.log(result);\n  // }\n  const [login, setLogin] = useState({\n    username: '',\n    password: ''\n  });\n  const [logindata, setLogindata] = useState({\n    userNiceName: '',\n    userEmail: '',\n    loggedIn: false,\n    loading: false,\n    error: ''\n  });\n  useEffect(() => {\n    postData();\n    return () => {};\n  }, [login]);\n\n  const postData = async () => {\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(login)\n    };\n    const response = await fetch('http://localhost:8888/react/wp-json/jwt-auth/v1/token', requestOptions);\n    const loginresp = await response.json();\n    setLogindata({ ...logindata,\n      ...loginresp\n    });\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const data = {\n      username: e.target[0].value,\n      password: e.target[2].value\n    };\n    setLogin({ ...login,\n      ...data\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cover\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"username\",\n      onChange: e => setEmail(e.target.value),\n      className: \"form-control\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      onChange: e => setPassword(e.target.value),\n      className: \"form-control\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-btn\",\n      onClick: loginData,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginForm, \"19QzOxrNs3fMmJiqDmiXcmfE4bk=\");\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useEffect","useState","LoginForm","login","setLogin","username","password","logindata","setLogindata","userNiceName","userEmail","loggedIn","loading","error","postData","requestOptions","method","headers","body","JSON","stringify","response","fetch","loginresp","json","onFormSubmit","e","preventDefault","data","target","value","setEmail","setPassword","loginData"],"sources":["G:/reactJsLigin/my-app/src/components/loginform.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport \"./loginform.css\"\r\n\r\nfunction LoginForm(){\r\n    // const [email, setEmail] = useState(\"\");\r\n    // const [password, setPassword] = useState(\"\");\r\n    \r\n    // async function loginData(){\r\n    //     let item = {email, password};\r\n    //     console.log(item);\r\n    //     let result = await fetch(\"https://staging.hospyta.com/auth/login\", {\r\n    //         method: \"POST\",\r\n    //         headers:{\"Accept\": \"application/json\"},\r\n    //         body: JSON.stringify(item)\r\n    //     });\r\n    //     result = await result.json();\r\n    //     console.log(result);\r\n        \r\n    // }\r\n\r\n    const [login, setLogin] = useState({\r\n        username: '',\r\n        password: '',\r\n    })\r\n        \r\n    \r\n    const [logindata, setLogindata] = useState({\r\n        userNiceName: '',\r\n        userEmail: '',\r\n        loggedIn: false,\r\n        loading: false,\r\n        error: ''\r\n    })\r\n    \r\n    \r\n    useEffect(() => {\r\n        postData()\r\n        return ()=>{}\r\n        }, [login])\r\n        \r\n        const postData = async () => {\r\n        \r\n        const requestOptions = {\r\n                        method: 'POST',\r\n                       headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify(login)\r\n                }\r\n            const response = await fetch('http://localhost:8888/react/wp-json/jwt-auth/v1/token', requestOptions )\r\n            const loginresp = await response.json()\r\n        setLogindata({...logindata, ...loginresp})\r\n        }\r\n           \r\n        \r\n        \r\n        const onFormSubmit = e => {\r\n            e.preventDefault()\r\n            const data = {\r\n                username: e.target[0].value,\r\n                password: e.target[2].value,\r\n            }\r\n            setLogin({...login,...data})\r\n        }\r\n\r\n    return (\r\n        <div className=\"cover\">\r\n            <h1>Login</h1>\r\n            <input type=\"text\" placeholder=\"username\" onChange={(e) => setEmail(e.target.value)} className=\"form-control\" />\r\n            <input type=\"password\" placeholder=\"password\"  onChange={(e) => setPassword(e.target.value)} className=\"form-control\" />\r\n\r\n            <div className=\"login-btn\" onClick={loginData}>Login</div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,iBAAP;;;AAEA,SAASC,SAAT,GAAoB;EAAA;;EAChB;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,QAAQ,CAAC;IAC/BI,QAAQ,EAAE,EADqB;IAE/BC,QAAQ,EAAE;EAFqB,CAAD,CAAlC;EAMA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC;IACvCQ,YAAY,EAAE,EADyB;IAEvCC,SAAS,EAAE,EAF4B;IAGvCC,QAAQ,EAAE,KAH6B;IAIvCC,OAAO,EAAE,KAJ8B;IAKvCC,KAAK,EAAE;EALgC,CAAD,CAA1C;EASAb,SAAS,CAAC,MAAM;IACZc,QAAQ;IACR,OAAO,MAAI,CAAE,CAAb;EACC,CAHI,EAGF,CAACX,KAAD,CAHE,CAAT;;EAKI,MAAMW,QAAQ,GAAG,YAAY;IAE7B,MAAMC,cAAc,GAAG;MACPC,MAAM,EAAE,MADD;MAERC,OAAO,EAAE;QAAE,gBAAgB;MAAlB,CAFD;MAGPC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAejB,KAAf;IAHC,CAAvB;IAKI,MAAMkB,QAAQ,GAAG,MAAMC,KAAK,CAAC,uDAAD,EAA0DP,cAA1D,CAA5B;IACA,MAAMQ,SAAS,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAxB;IACJhB,YAAY,CAAC,EAAC,GAAGD,SAAJ;MAAe,GAAGgB;IAAlB,CAAD,CAAZ;EACC,CAVD;;EAcA,MAAME,YAAY,GAAGC,CAAC,IAAI;IACtBA,CAAC,CAACC,cAAF;IACA,MAAMC,IAAI,GAAG;MACTvB,QAAQ,EAAEqB,CAAC,CAACG,MAAF,CAAS,CAAT,EAAYC,KADb;MAETxB,QAAQ,EAAEoB,CAAC,CAACG,MAAF,CAAS,CAAT,EAAYC;IAFb,CAAb;IAIA1B,QAAQ,CAAC,EAAC,GAAGD,KAAJ;MAAU,GAAGyB;IAAb,CAAD,CAAR;EACH,CAPD;;EASJ,oBACI;IAAK,SAAS,EAAC,OAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAO,IAAI,EAAC,MAAZ;MAAmB,WAAW,EAAC,UAA/B;MAA0C,QAAQ,EAAGF,CAAD,IAAOK,QAAQ,CAACL,CAAC,CAACG,MAAF,CAASC,KAAV,CAAnE;MAAqF,SAAS,EAAC;IAA/F;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAO,IAAI,EAAC,UAAZ;MAAuB,WAAW,EAAC,UAAnC;MAA+C,QAAQ,EAAGJ,CAAD,IAAOM,WAAW,CAACN,CAAC,CAACG,MAAF,CAASC,KAAV,CAA3E;MAA6F,SAAS,EAAC;IAAvG;MAAA;MAAA;MAAA;IAAA,QAHJ,eAKI;MAAK,SAAS,EAAC,WAAf;MAA2B,OAAO,EAAEG,SAApC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAUH;;GAtEQ/B,S;;KAAAA,S;AAwET,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}